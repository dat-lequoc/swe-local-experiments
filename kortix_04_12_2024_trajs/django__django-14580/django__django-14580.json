{
  "instance_id": "django__django-14580",
  "model_patch": "diff --git a/django/db/migrations/writer.py b/django/db/migrations/writer.py\nindex 4918261fb0..12ac577f27 100644\n--- a/django/db/migrations/writer.py\n+++ b/django/db/migrations/writer.py\n@@ -1,4 +1,3 @@\n-\n import os\n import re\n from importlib import import_module\n@@ -164,7 +163,19 @@ class MigrationWriter:\n \n         # django.db.migrations is always used, but models import may not be.\n         # If models import exists, merge it with migrations import.\n+        # Check for models.Model in bases tuples\n+        needs_models = False\n         if \"from django.db import models\" in imports:\n+            needs_models = True\n+        else:\n+            for operation in self.migration.operations:\n+                if hasattr(operation, 'bases'):\n+                    bases = operation.bases\n+                    if any('models.Model' in str(base) for base in bases):\n+                        needs_models = True\n+                        break\n+\n+        if needs_models:\n             imports.discard(\"from django.db import models\")\n             imports.add(\"from django.db import migrations, models\")\n         else:\n@@ -297,4 +308,4 @@ class Migration(migrations.Migration):\n     operations = [\n %(operations)s\\\n     ]\n-\"\"\"\n+\"\"\"\n\\ No newline at end of file\n",
  "model_name_or_path": "KortixAI"
}