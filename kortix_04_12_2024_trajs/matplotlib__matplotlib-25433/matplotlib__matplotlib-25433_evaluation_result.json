{
  "instance_id": "matplotlib__matplotlib-25433",
  "test_result": {
    "apply_patch_output": "APPLY_PATCH_PASS\nChecking patch lib/matplotlib/widgets.py...\nApplied patch lib/matplotlib/widgets.py cleanly.\n",
    "test_output": "+ source /opt/miniconda3/bin/activate\n++ _CONDA_ROOT=/opt/miniconda3\n++ . /opt/miniconda3/etc/profile.d/conda.sh\n+++ export CONDA_EXE=/opt/miniconda3/bin/conda\n+++ CONDA_EXE=/opt/miniconda3/bin/conda\n+++ export _CE_M=\n+++ _CE_M=\n+++ export _CE_CONDA=\n+++ _CE_CONDA=\n+++ export CONDA_PYTHON_EXE=/opt/miniconda3/bin/python\n+++ CONDA_PYTHON_EXE=/opt/miniconda3/bin/python\n+++ '[' -z x ']'\n++ conda activate\n++ local cmd=activate\n++ case \"$cmd\" in\n++ __conda_activate activate\n++ '[' -n '' ']'\n++ local ask_conda\n+++ PS1=\n+++ __conda_exe shell.posix activate\n+++ /opt/miniconda3/bin/conda shell.posix activate\n++ ask_conda='. \"/opt/miniconda3/envs/testbed/etc/conda/deactivate.d/libxml2_deactivate.sh\"\n. \"/opt/miniconda3/envs/testbed/etc/conda/deactivate.d/libglib_deactivate.sh\"\nPS1='\\''(base) '\\''\nexport PATH='\\''/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\\''\nexport CONDA_PREFIX='\\''/opt/miniconda3'\\''\nexport CONDA_SHLVL='\\''2'\\''\nexport CONDA_DEFAULT_ENV='\\''base'\\''\nexport CONDA_PROMPT_MODIFIER='\\''(base) '\\''\nexport CONDA_PREFIX_1='\\''/opt/miniconda3/envs/testbed'\\''\nexport CONDA_EXE='\\''/opt/miniconda3/bin/conda'\\''\nexport _CE_M='\\'''\\''\nexport _CE_CONDA='\\'''\\''\nexport CONDA_PYTHON_EXE='\\''/opt/miniconda3/bin/python'\\'''\n++ eval '. \"/opt/miniconda3/envs/testbed/etc/conda/deactivate.d/libxml2_deactivate.sh\"\n. \"/opt/miniconda3/envs/testbed/etc/conda/deactivate.d/libglib_deactivate.sh\"\nPS1='\\''(base) '\\''\nexport PATH='\\''/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\\''\nexport CONDA_PREFIX='\\''/opt/miniconda3'\\''\nexport CONDA_SHLVL='\\''2'\\''\nexport CONDA_DEFAULT_ENV='\\''base'\\''\nexport CONDA_PROMPT_MODIFIER='\\''(base) '\\''\nexport CONDA_PREFIX_1='\\''/opt/miniconda3/envs/testbed'\\''\nexport CONDA_EXE='\\''/opt/miniconda3/bin/conda'\\''\nexport _CE_M='\\'''\\''\nexport _CE_CONDA='\\'''\\''\nexport CONDA_PYTHON_EXE='\\''/opt/miniconda3/bin/python'\\'''\n+++ . /opt/miniconda3/envs/testbed/etc/conda/deactivate.d/libxml2_deactivate.sh\n++++ test -n ''\n++++ unset XML_CATALOG_FILES\n++++ unset xml_catalog_files_libxml2\n+++ . /opt/miniconda3/envs/testbed/etc/conda/deactivate.d/libglib_deactivate.sh\n++++ export GSETTINGS_SCHEMA_DIR=\n++++ GSETTINGS_SCHEMA_DIR=\n++++ unset GSETTINGS_SCHEMA_DIR_CONDA_BACKUP\n++++ '[' -z ']'\n++++ unset GSETTINGS_SCHEMA_DIR\n+++ PS1='(base) '\n+++ export PATH=/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n+++ PATH=/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n+++ export CONDA_PREFIX=/opt/miniconda3\n+++ CONDA_PREFIX=/opt/miniconda3\n+++ export CONDA_SHLVL=2\n+++ CONDA_SHLVL=2\n+++ export CONDA_DEFAULT_ENV=base\n+++ CONDA_DEFAULT_ENV=base\n+++ export 'CONDA_PROMPT_MODIFIER=(base) '\n+++ CONDA_PROMPT_MODIFIER='(base) '\n+++ export CONDA_PREFIX_1=/opt/miniconda3/envs/testbed\n+++ CONDA_PREFIX_1=/opt/miniconda3/envs/testbed\n+++ export CONDA_EXE=/opt/miniconda3/bin/conda\n+++ CONDA_EXE=/opt/miniconda3/bin/conda\n+++ export _CE_M=\n+++ _CE_M=\n+++ export _CE_CONDA=\n+++ _CE_CONDA=\n+++ export CONDA_PYTHON_EXE=/opt/miniconda3/bin/python\n+++ CONDA_PYTHON_EXE=/opt/miniconda3/bin/python\n++ __conda_hashr\n++ '[' -n '' ']'\n++ '[' -n '' ']'\n++ hash -r\n+ conda activate testbed\n+ local cmd=activate\n+ case \"$cmd\" in\n+ __conda_activate activate testbed\n+ '[' -n '' ']'\n+ local ask_conda\n++ PS1='(base) '\n++ __conda_exe shell.posix activate testbed\n++ /opt/miniconda3/bin/conda shell.posix activate testbed\n+ ask_conda='PS1='\\''(testbed) '\\''\nexport PATH='\\''/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\\''\nexport CONDA_PREFIX='\\''/opt/miniconda3/envs/testbed'\\''\nexport CONDA_SHLVL='\\''3'\\''\nexport CONDA_DEFAULT_ENV='\\''testbed'\\''\nexport CONDA_PROMPT_MODIFIER='\\''(testbed) '\\''\nexport CONDA_PREFIX_2='\\''/opt/miniconda3'\\''\nexport CONDA_EXE='\\''/opt/miniconda3/bin/conda'\\''\nexport _CE_M='\\'''\\''\nexport _CE_CONDA='\\'''\\''\nexport CONDA_PYTHON_EXE='\\''/opt/miniconda3/bin/python'\\''\n. \"/opt/miniconda3/envs/testbed/etc/conda/activate.d/libglib_activate.sh\"\n. \"/opt/miniconda3/envs/testbed/etc/conda/activate.d/libxml2_activate.sh\"'\n+ eval 'PS1='\\''(testbed) '\\''\nexport PATH='\\''/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\\''\nexport CONDA_PREFIX='\\''/opt/miniconda3/envs/testbed'\\''\nexport CONDA_SHLVL='\\''3'\\''\nexport CONDA_DEFAULT_ENV='\\''testbed'\\''\nexport CONDA_PROMPT_MODIFIER='\\''(testbed) '\\''\nexport CONDA_PREFIX_2='\\''/opt/miniconda3'\\''\nexport CONDA_EXE='\\''/opt/miniconda3/bin/conda'\\''\nexport _CE_M='\\'''\\''\nexport _CE_CONDA='\\'''\\''\nexport CONDA_PYTHON_EXE='\\''/opt/miniconda3/bin/python'\\''\n. \"/opt/miniconda3/envs/testbed/etc/conda/activate.d/libglib_activate.sh\"\n. \"/opt/miniconda3/envs/testbed/etc/conda/activate.d/libxml2_activate.sh\"'\n++ PS1='(testbed) '\n++ export PATH=/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n++ PATH=/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n++ export CONDA_PREFIX=/opt/miniconda3/envs/testbed\n++ CONDA_PREFIX=/opt/miniconda3/envs/testbed\n++ export CONDA_SHLVL=3\n++ CONDA_SHLVL=3\n++ export CONDA_DEFAULT_ENV=testbed\n++ CONDA_DEFAULT_ENV=testbed\n++ export 'CONDA_PROMPT_MODIFIER=(testbed) '\n++ CONDA_PROMPT_MODIFIER='(testbed) '\n++ export CONDA_PREFIX_2=/opt/miniconda3\n++ CONDA_PREFIX_2=/opt/miniconda3\n++ export CONDA_EXE=/opt/miniconda3/bin/conda\n++ CONDA_EXE=/opt/miniconda3/bin/conda\n++ export _CE_M=\n++ _CE_M=\n++ export _CE_CONDA=\n++ _CE_CONDA=\n++ export CONDA_PYTHON_EXE=/opt/miniconda3/bin/python\n++ CONDA_PYTHON_EXE=/opt/miniconda3/bin/python\n++ . /opt/miniconda3/envs/testbed/etc/conda/activate.d/libglib_activate.sh\n+++ export GSETTINGS_SCHEMA_DIR_CONDA_BACKUP=\n+++ GSETTINGS_SCHEMA_DIR_CONDA_BACKUP=\n+++ export GSETTINGS_SCHEMA_DIR=/opt/miniconda3/envs/testbed/share/glib-2.0/schemas\n+++ GSETTINGS_SCHEMA_DIR=/opt/miniconda3/envs/testbed/share/glib-2.0/schemas\n++ . /opt/miniconda3/envs/testbed/etc/conda/activate.d/libxml2_activate.sh\n+++ test -n ''\n+++ xml_catalog_files_libxml2=\n+++ XML_CATALOG_FILES=\n+++ conda_catalog_files=\n+++ ifs_libxml2=' \t\n'\n+++ IFS=' '\n+++ rem=/opt/miniconda3/envs/testbed\n+++ for pre in ${rem}\n+++ test '' = /opt/miniconda3/envs/testbed\n+++ conda_catalog_files=/opt/miniconda3/envs/testbed\n+++ rem=\n+++ IFS=' \t\n'\n+++ conda_catalog_files='file:///opt/miniconda3/envs/testbed/etc/xml/catalog file:///etc/xml/catalog'\n+++ export 'XML_CATALOG_FILES=file:///opt/miniconda3/envs/testbed/etc/xml/catalog file:///etc/xml/catalog'\n+++ XML_CATALOG_FILES='file:///opt/miniconda3/envs/testbed/etc/xml/catalog file:///etc/xml/catalog'\n+++ unset conda_catalog_files ifs_libxml2 rem\n+ __conda_hashr\n+ '[' -n '' ']'\n+ '[' -n '' ']'\n+ hash -r\n+ cd /testbed\n+ git config --global --add safe.directory /testbed\n+ cd /testbed\n+ git status\n+ git show\n+ git diff 7eafdd8af3c523c1c77b027d378fb337dd489f18\n+ source /opt/miniconda3/bin/activate\n++ _CONDA_ROOT=/opt/miniconda3\n++ . /opt/miniconda3/etc/profile.d/conda.sh\n+++ export CONDA_EXE=/opt/miniconda3/bin/conda\n+++ CONDA_EXE=/opt/miniconda3/bin/conda\n+++ export _CE_M=\n+++ _CE_M=\n+++ export _CE_CONDA=\n+++ _CE_CONDA=\n+++ export CONDA_PYTHON_EXE=/opt/miniconda3/bin/python\n+++ CONDA_PYTHON_EXE=/opt/miniconda3/bin/python\n+++ '[' -z x ']'\n++ conda activate\n++ local cmd=activate\n++ case \"$cmd\" in\n++ __conda_activate activate\n++ '[' -n '' ']'\n++ local ask_conda\n+++ PS1='(testbed) '\n+++ __conda_exe shell.posix activate\n+++ /opt/miniconda3/bin/conda shell.posix activate\n++ ask_conda='. \"/opt/miniconda3/envs/testbed/etc/conda/deactivate.d/libxml2_deactivate.sh\"\n. \"/opt/miniconda3/envs/testbed/etc/conda/deactivate.d/libglib_deactivate.sh\"\nPS1='\\''(base) '\\''\nexport PATH='\\''/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\\''\nexport CONDA_PREFIX='\\''/opt/miniconda3'\\''\nexport CONDA_SHLVL='\\''4'\\''\nexport CONDA_DEFAULT_ENV='\\''base'\\''\nexport CONDA_PROMPT_MODIFIER='\\''(base) '\\''\nexport CONDA_PREFIX_3='\\''/opt/miniconda3/envs/testbed'\\''\nexport CONDA_EXE='\\''/opt/miniconda3/bin/conda'\\''\nexport _CE_M='\\'''\\''\nexport _CE_CONDA='\\'''\\''\nexport CONDA_PYTHON_EXE='\\''/opt/miniconda3/bin/python'\\'''\n++ eval '. \"/opt/miniconda3/envs/testbed/etc/conda/deactivate.d/libxml2_deactivate.sh\"\n. \"/opt/miniconda3/envs/testbed/etc/conda/deactivate.d/libglib_deactivate.sh\"\nPS1='\\''(base) '\\''\nexport PATH='\\''/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\\''\nexport CONDA_PREFIX='\\''/opt/miniconda3'\\''\nexport CONDA_SHLVL='\\''4'\\''\nexport CONDA_DEFAULT_ENV='\\''base'\\''\nexport CONDA_PROMPT_MODIFIER='\\''(base) '\\''\nexport CONDA_PREFIX_3='\\''/opt/miniconda3/envs/testbed'\\''\nexport CONDA_EXE='\\''/opt/miniconda3/bin/conda'\\''\nexport _CE_M='\\'''\\''\nexport _CE_CONDA='\\'''\\''\nexport CONDA_PYTHON_EXE='\\''/opt/miniconda3/bin/python'\\'''\n+++ . /opt/miniconda3/envs/testbed/etc/conda/deactivate.d/libxml2_deactivate.sh\n++++ test -n ''\n++++ unset XML_CATALOG_FILES\n++++ unset xml_catalog_files_libxml2\n+++ . /opt/miniconda3/envs/testbed/etc/conda/deactivate.d/libglib_deactivate.sh\n++++ export GSETTINGS_SCHEMA_DIR=\n++++ GSETTINGS_SCHEMA_DIR=\n++++ unset GSETTINGS_SCHEMA_DIR_CONDA_BACKUP\n++++ '[' -z ']'\n++++ unset GSETTINGS_SCHEMA_DIR\n+++ PS1='(base) '\n+++ export PATH=/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n+++ PATH=/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n+++ export CONDA_PREFIX=/opt/miniconda3\n+++ CONDA_PREFIX=/opt/miniconda3\n+++ export CONDA_SHLVL=4\n+++ CONDA_SHLVL=4\n+++ export CONDA_DEFAULT_ENV=base\n+++ CONDA_DEFAULT_ENV=base\n+++ export 'CONDA_PROMPT_MODIFIER=(base) '\n+++ CONDA_PROMPT_MODIFIER='(base) '\n+++ export CONDA_PREFIX_3=/opt/miniconda3/envs/testbed\n+++ CONDA_PREFIX_3=/opt/miniconda3/envs/testbed\n+++ export CONDA_EXE=/opt/miniconda3/bin/conda\n+++ CONDA_EXE=/opt/miniconda3/bin/conda\n+++ export _CE_M=\n+++ _CE_M=\n+++ export _CE_CONDA=\n+++ _CE_CONDA=\n+++ export CONDA_PYTHON_EXE=/opt/miniconda3/bin/python\n+++ CONDA_PYTHON_EXE=/opt/miniconda3/bin/python\n++ __conda_hashr\n++ '[' -n '' ']'\n++ '[' -n '' ']'\n++ hash -r\n+ conda activate testbed\n+ local cmd=activate\n+ case \"$cmd\" in\n+ __conda_activate activate testbed\n+ '[' -n '' ']'\n+ local ask_conda\n++ PS1='(base) '\n++ __conda_exe shell.posix activate testbed\n++ /opt/miniconda3/bin/conda shell.posix activate testbed\n+ ask_conda='PS1='\\''(testbed) '\\''\nexport PATH='\\''/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\\''\nexport CONDA_PREFIX='\\''/opt/miniconda3/envs/testbed'\\''\nexport CONDA_SHLVL='\\''5'\\''\nexport CONDA_DEFAULT_ENV='\\''testbed'\\''\nexport CONDA_PROMPT_MODIFIER='\\''(testbed) '\\''\nexport CONDA_PREFIX_4='\\''/opt/miniconda3'\\''\nexport CONDA_EXE='\\''/opt/miniconda3/bin/conda'\\''\nexport _CE_M='\\'''\\''\nexport _CE_CONDA='\\'''\\''\nexport CONDA_PYTHON_EXE='\\''/opt/miniconda3/bin/python'\\''\n. \"/opt/miniconda3/envs/testbed/etc/conda/activate.d/libglib_activate.sh\"\n. \"/opt/miniconda3/envs/testbed/etc/conda/activate.d/libxml2_activate.sh\"'\n+ eval 'PS1='\\''(testbed) '\\''\nexport PATH='\\''/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\\''\nexport CONDA_PREFIX='\\''/opt/miniconda3/envs/testbed'\\''\nexport CONDA_SHLVL='\\''5'\\''\nexport CONDA_DEFAULT_ENV='\\''testbed'\\''\nexport CONDA_PROMPT_MODIFIER='\\''(testbed) '\\''\nexport CONDA_PREFIX_4='\\''/opt/miniconda3'\\''\nexport CONDA_EXE='\\''/opt/miniconda3/bin/conda'\\''\nexport _CE_M='\\'''\\''\nexport _CE_CONDA='\\'''\\''\nexport CONDA_PYTHON_EXE='\\''/opt/miniconda3/bin/python'\\''\n. \"/opt/miniconda3/envs/testbed/etc/conda/activate.d/libglib_activate.sh\"\n. \"/opt/miniconda3/envs/testbed/etc/conda/activate.d/libxml2_activate.sh\"'\n++ PS1='(testbed) '\n++ export PATH=/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n++ PATH=/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n++ export CONDA_PREFIX=/opt/miniconda3/envs/testbed\n++ CONDA_PREFIX=/opt/miniconda3/envs/testbed\n++ export CONDA_SHLVL=5\n++ CONDA_SHLVL=5\n++ export CONDA_DEFAULT_ENV=testbed\n++ CONDA_DEFAULT_ENV=testbed\n++ export 'CONDA_PROMPT_MODIFIER=(testbed) '\n++ CONDA_PROMPT_MODIFIER='(testbed) '\n++ export CONDA_PREFIX_4=/opt/miniconda3\n++ CONDA_PREFIX_4=/opt/miniconda3\n++ export CONDA_EXE=/opt/miniconda3/bin/conda\n++ CONDA_EXE=/opt/miniconda3/bin/conda\n++ export _CE_M=\n++ _CE_M=\n++ export _CE_CONDA=\n++ _CE_CONDA=\n++ export CONDA_PYTHON_EXE=/opt/miniconda3/bin/python\n++ CONDA_PYTHON_EXE=/opt/miniconda3/bin/python\n++ . /opt/miniconda3/envs/testbed/etc/conda/activate.d/libglib_activate.sh\n+++ export GSETTINGS_SCHEMA_DIR_CONDA_BACKUP=\n+++ GSETTINGS_SCHEMA_DIR_CONDA_BACKUP=\n+++ export GSETTINGS_SCHEMA_DIR=/opt/miniconda3/envs/testbed/share/glib-2.0/schemas\n+++ GSETTINGS_SCHEMA_DIR=/opt/miniconda3/envs/testbed/share/glib-2.0/schemas\n++ . /opt/miniconda3/envs/testbed/etc/conda/activate.d/libxml2_activate.sh\n+++ test -n ''\n+++ xml_catalog_files_libxml2=\n+++ XML_CATALOG_FILES=\n+++ conda_catalog_files=\n+++ ifs_libxml2=' \t\n'\n+++ IFS=' '\n+++ rem=/opt/miniconda3/envs/testbed\n+++ for pre in ${rem}\n+++ test '' = /opt/miniconda3/envs/testbed\n+++ conda_catalog_files=/opt/miniconda3/envs/testbed\n+++ rem=\n+++ IFS=' \t\n'\n+++ conda_catalog_files='file:///opt/miniconda3/envs/testbed/etc/xml/catalog file:///etc/xml/catalog'\n+++ export 'XML_CATALOG_FILES=file:///opt/miniconda3/envs/testbed/etc/xml/catalog file:///etc/xml/catalog'\n+++ XML_CATALOG_FILES='file:///opt/miniconda3/envs/testbed/etc/xml/catalog file:///etc/xml/catalog'\n+++ unset conda_catalog_files ifs_libxml2 rem\n+ __conda_hashr\n+ '[' -n '' ']'\n+ '[' -n '' ']'\n+ hash -r\n+ python -m pip install -e .\nWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.\n+ git checkout 7eafdd8af3c523c1c77b027d378fb337dd489f18 lib/matplotlib/tests/test_backend_bases.py\nUpdated 0 paths from ad7d900860\n+ git apply -v -\nChecking patch lib/matplotlib/tests/test_backend_bases.py...\nApplied patch lib/matplotlib/tests/test_backend_bases.py cleanly.\n+ pytest -rA lib/matplotlib/tests/test_backend_bases.py\n+ git checkout 7eafdd8af3c523c1c77b027d378fb337dd489f18 lib/matplotlib/tests/test_backend_bases.py\nUpdated 1 path from ad7d900860\nOn branch main\nChanges not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git restore <file>...\" to discard changes in working directory)\n\tmodified:   lib/matplotlib/widgets.py\n\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\ncommit 7eafdd8af3c523c1c77b027d378fb337dd489f18\nMerge: c8b5a2a8ae d6f7a4f791\nAuthor: Thomas A Caswell <tcaswell@gmail.com>\nDate:   Fri Mar 10 12:47:38 2023 -0500\n\n    Merge pull request #25423 from jklymak/bld-pst013-compat\n    \n    DOC/BLD: make logo compatible with pydata-sphinx-theme\n\ndiff --git a/lib/matplotlib/widgets.py b/lib/matplotlib/widgets.py\nindex ebe5da43e2..faed8e6c68 100644\n--- a/lib/matplotlib/widgets.py\n+++ b/lib/matplotlib/widgets.py\n@@ -73,6 +73,10 @@ class Widget:\n \n     def set_active(self, active):\n         \"\"\"Set whether the widget is active.\"\"\"\n+        # Release any active mouse grab when deactivating\n+        if not active and hasattr(self, 'canvas'):\n+            if self.canvas.mouse_grabber is self.ax:\n+                self.canvas.release_mouse(self.ax)\n         self._active = active\n \n     def get_active(self):\n@@ -2442,11 +2446,17 @@ class _SelectorWidget(AxesWidget):\n \n     def clear(self):\n         \"\"\"Clear the selection and set the selector ready to make a new one.\"\"\"\n+        # Ensure proper cleanup of event state\n+        if hasattr(self, 'canvas'):\n+            if self.canvas.mouse_grabber is self.ax:\n+                self.canvas.release_mouse(self.ax)\n         self._clear_without_update()\n         self.update()\n \n     def _clear_without_update(self):\n         self._selection_completed = False\n+        if hasattr(self, '_active_handle'):\n+            self._active_handle = None\n         self.set_visible(False)\n \n     @property\n@@ -4272,4 +4282,4 @@ class Lasso(AxesWidget):\n             self.ax.draw_artist(self.line)\n             self.canvas.blit(self.ax.bbox)\n         else:\n-            self.canvas.draw_idle()\n+            self.canvas.draw_idle()\n\\ No newline at end of file\nObtaining file:///testbed\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Checking if build backend supports build_editable: started\n  Checking if build backend supports build_editable: finished with status 'done'\n  Getting requirements to build editable: started\n  Getting requirements to build editable: finished with status 'done'\n  Preparing editable metadata (pyproject.toml): started\n  Preparing editable metadata (pyproject.toml): finished with status 'done'\nRequirement already satisfied: contourpy>=1.0.1 in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from matplotlib==3.8.0.dev565+g7eafdd8af3.d20241205) (1.1.0)\nRequirement already satisfied: cycler>=0.10 in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from matplotlib==3.8.0.dev565+g7eafdd8af3.d20241205) (0.11.0)\nRequirement already satisfied: fonttools>=4.22.0 in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from matplotlib==3.8.0.dev565+g7eafdd8af3.d20241205) (4.42.1)\nRequirement already satisfied: kiwisolver>=1.0.1 in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from matplotlib==3.8.0.dev565+g7eafdd8af3.d20241205) (1.4.5)\nRequirement already satisfied: numpy>=1.21 in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from matplotlib==3.8.0.dev565+g7eafdd8af3.d20241205) (1.25.2)\nRequirement already satisfied: packaging>=20.0 in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from matplotlib==3.8.0.dev565+g7eafdd8af3.d20241205) (23.1)\nRequirement already satisfied: pillow>=6.2.0 in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from matplotlib==3.8.0.dev565+g7eafdd8af3.d20241205) (10.0.0)\nRequirement already satisfied: pyparsing>=2.3.1 in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from matplotlib==3.8.0.dev565+g7eafdd8af3.d20241205) (3.0.9)\nRequirement already satisfied: python-dateutil>=2.7 in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from matplotlib==3.8.0.dev565+g7eafdd8af3.d20241205) (2.8.2)\nRequirement already satisfied: setuptools_scm>=7 in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from matplotlib==3.8.0.dev565+g7eafdd8af3.d20241205) (7.1.0)\nRequirement already satisfied: six>=1.5 in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from python-dateutil>=2.7->matplotlib==3.8.0.dev565+g7eafdd8af3.d20241205) (1.16.0)\nRequirement already satisfied: setuptools in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from setuptools_scm>=7->matplotlib==3.8.0.dev565+g7eafdd8af3.d20241205) (68.1.2)\nRequirement already satisfied: typing-extensions in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from setuptools_scm>=7->matplotlib==3.8.0.dev565+g7eafdd8af3.d20241205) (4.7.1)\nBuilding wheels for collected packages: matplotlib\n  Building editable for matplotlib (pyproject.toml): started\n  Building editable for matplotlib (pyproject.toml): finished with status 'done'\n  Created wheel for matplotlib: filename=matplotlib-3.8.0.dev565+g7eafdd8af3.d20241205-0.editable-cp311-cp311-linux_x86_64.whl size=23294 sha256=4852cd5ce3f95ad1cdcde4e223d714933a1b1c5eee560b25392516bd9da177be\n  Stored in directory: /tmp/pip-ephem-wheel-cache-msejn4yv/wheels/49/5f/4f/01b7d31ea6ddac9643da788242d33e5fd3467d95d17b032c6b\nSuccessfully built matplotlib\nInstalling collected packages: matplotlib\n  Attempting uninstall: matplotlib\n    Found existing installation: matplotlib 3.8.0.dev565+g7eafdd8af3\n    Uninstalling matplotlib-3.8.0.dev565+g7eafdd8af3:\n      Successfully uninstalled matplotlib-3.8.0.dev565+g7eafdd8af3\nSuccessfully installed matplotlib-3.8.0.dev565+g7eafdd8af3.d20241205\n============================= test session starts ==============================\nplatform linux -- Python 3.11.9, pytest-8.3.2, pluggy-1.5.0\nrootdir: /testbed\nconfigfile: pytest.ini\nplugins: timeout-2.3.1, rerunfailures-14.0, xdist-3.6.1, cov-5.0.0\ncollected 56 items\n\nlib/matplotlib/tests/test_backend_bases.py .....F....................... [ 51%]\n...........................                                              [100%]\n\n=================================== FAILURES ===================================\n_______________________________ test_grab_clear ________________________________\n\n    def test_grab_clear():\n        fig, ax = plt.subplots()\n    \n        fig.canvas.grab_mouse(ax)\n        assert fig.canvas.mouse_grabber == ax\n    \n        fig.clear()\n>       assert fig.canvas.mouse_grabber is None\nE       assert <Axes: > is None\nE        +  where <Axes: > = <matplotlib.backends.backend_agg.FigureCanvasAgg object at 0x76078c7734d0>.mouse_grabber\nE        +    where <matplotlib.backends.backend_agg.FigureCanvasAgg object at 0x76078c7734d0> = <Figure size 640x480 with 0 Axes>.canvas\n\nlib/matplotlib/tests/test_backend_bases.py:105: AssertionError\n==================================== PASSES ====================================\n=========================== short test summary info ============================\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_uses_per_path\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_canvas_ctor\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_get_default_filename\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_canvas_change\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_non_gui_warning\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_location_event_position[42-24]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_location_event_position[None-42]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_location_event_position[None-None]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_location_event_position[200-100.01]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_location_event_position[205.75-2.0]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_pick\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_zoom\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_widgetlock_zoompan\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[zoom-1-expected0-vertical-imshow]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[zoom-1-expected0-vertical-contourf]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[zoom-1-expected0-horizontal-imshow]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[zoom-1-expected0-horizontal-contourf]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[zoom-3-expected1-vertical-imshow]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[zoom-3-expected1-vertical-contourf]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[zoom-3-expected1-horizontal-imshow]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[zoom-3-expected1-horizontal-contourf]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[pan-1-expected2-vertical-imshow]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[pan-1-expected2-vertical-contourf]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[pan-1-expected2-horizontal-imshow]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[pan-1-expected2-horizontal-contourf]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[pan-3-expected3-vertical-imshow]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[pan-3-expected3-vertical-contourf]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[pan-3-expected3-horizontal-imshow]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[pan-3-expected3-horizontal-contourf]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_toolbar_zoompan\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_draw[svg]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_draw[ps]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_draw[pdf]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_draw[pgf]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[None-mouseend0-expectedxlim0-expectedylim0]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[None-mouseend1-expectedxlim1-expectedylim1]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[None-mouseend2-expectedxlim2-expectedylim2]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[None-mouseend3-expectedxlim3-expectedylim3]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[None-mouseend4-expectedxlim4-expectedylim4]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[None-mouseend5-expectedxlim5-expectedylim5]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[None-mouseend6-expectedxlim6-expectedylim6]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[None-mouseend7-expectedxlim7-expectedylim7]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[shift-mouseend8-expectedxlim8-expectedylim8]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[shift-mouseend9-expectedxlim9-expectedylim9]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[shift-mouseend10-expectedxlim10-expectedylim10]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[shift-mouseend11-expectedxlim11-expectedylim11]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[shift-mouseend12-expectedxlim12-expectedylim12]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[shift-mouseend13-expectedxlim13-expectedylim13]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[x-mouseend14-expectedxlim14-expectedylim14]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[y-mouseend15-expectedxlim15-expectedylim15]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[control-mouseend16-expectedxlim16-expectedylim16]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[control-mouseend17-expectedxlim17-expectedylim17]\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_toolmanager_remove\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_toolmanager_get_tool\nPASSED lib/matplotlib/tests/test_backend_bases.py::test_toolmanager_update_keymap\nFAILED lib/matplotlib/tests/test_backend_bases.py::test_grab_clear - assert <...\n========================= 1 failed, 55 passed in 8.68s =========================\n",
    "report": {
      "patch_is_None": false,
      "patch_exists": true,
      "patch_successfully_applied": true,
      "resolved": false,
      "tests_status": {
        "FAIL_TO_PASS": {
          "success": [],
          "failure": [
            "lib/matplotlib/tests/test_backend_bases.py::test_grab_clear"
          ]
        },
        "PASS_TO_PASS": {
          "success": [
            "lib/matplotlib/tests/test_backend_bases.py::test_uses_per_path",
            "lib/matplotlib/tests/test_backend_bases.py::test_canvas_ctor",
            "lib/matplotlib/tests/test_backend_bases.py::test_get_default_filename",
            "lib/matplotlib/tests/test_backend_bases.py::test_canvas_change",
            "lib/matplotlib/tests/test_backend_bases.py::test_non_gui_warning",
            "lib/matplotlib/tests/test_backend_bases.py::test_location_event_position[42-24]",
            "lib/matplotlib/tests/test_backend_bases.py::test_location_event_position[None-42]",
            "lib/matplotlib/tests/test_backend_bases.py::test_location_event_position[None-None]",
            "lib/matplotlib/tests/test_backend_bases.py::test_location_event_position[200-100.01]",
            "lib/matplotlib/tests/test_backend_bases.py::test_location_event_position[205.75-2.0]",
            "lib/matplotlib/tests/test_backend_bases.py::test_pick",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_zoom",
            "lib/matplotlib/tests/test_backend_bases.py::test_widgetlock_zoompan",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[zoom-1-expected0-vertical-imshow]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[zoom-1-expected0-vertical-contourf]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[zoom-1-expected0-horizontal-imshow]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[zoom-1-expected0-horizontal-contourf]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[zoom-3-expected1-vertical-imshow]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[zoom-3-expected1-vertical-contourf]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[zoom-3-expected1-horizontal-imshow]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[zoom-3-expected1-horizontal-contourf]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[pan-1-expected2-vertical-imshow]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[pan-1-expected2-vertical-contourf]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[pan-1-expected2-horizontal-imshow]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[pan-1-expected2-horizontal-contourf]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[pan-3-expected3-vertical-imshow]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[pan-3-expected3-vertical-contourf]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[pan-3-expected3-horizontal-imshow]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_colorbar[pan-3-expected3-horizontal-contourf]",
            "lib/matplotlib/tests/test_backend_bases.py::test_toolbar_zoompan",
            "lib/matplotlib/tests/test_backend_bases.py::test_draw[svg]",
            "lib/matplotlib/tests/test_backend_bases.py::test_draw[ps]",
            "lib/matplotlib/tests/test_backend_bases.py::test_draw[pdf]",
            "lib/matplotlib/tests/test_backend_bases.py::test_draw[pgf]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[None-mouseend0-expectedxlim0-expectedylim0]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[None-mouseend1-expectedxlim1-expectedylim1]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[None-mouseend2-expectedxlim2-expectedylim2]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[None-mouseend3-expectedxlim3-expectedylim3]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[None-mouseend4-expectedxlim4-expectedylim4]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[None-mouseend5-expectedxlim5-expectedylim5]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[None-mouseend6-expectedxlim6-expectedylim6]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[None-mouseend7-expectedxlim7-expectedylim7]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[shift-mouseend8-expectedxlim8-expectedylim8]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[shift-mouseend9-expectedxlim9-expectedylim9]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[shift-mouseend10-expectedxlim10-expectedylim10]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[shift-mouseend11-expectedxlim11-expectedylim11]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[shift-mouseend12-expectedxlim12-expectedylim12]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[shift-mouseend13-expectedxlim13-expectedylim13]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[x-mouseend14-expectedxlim14-expectedylim14]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[y-mouseend15-expectedxlim15-expectedylim15]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[control-mouseend16-expectedxlim16-expectedylim16]",
            "lib/matplotlib/tests/test_backend_bases.py::test_interactive_pan[control-mouseend17-expectedxlim17-expectedylim17]",
            "lib/matplotlib/tests/test_backend_bases.py::test_toolmanager_remove",
            "lib/matplotlib/tests/test_backend_bases.py::test_toolmanager_get_tool",
            "lib/matplotlib/tests/test_backend_bases.py::test_toolmanager_update_keymap"
          ],
          "failure": []
        },
        "FAIL_TO_FAIL": {
          "success": [],
          "failure": []
        },
        "PASS_TO_FAIL": {
          "success": [],
          "failure": []
        }
      }
    }
  }
}