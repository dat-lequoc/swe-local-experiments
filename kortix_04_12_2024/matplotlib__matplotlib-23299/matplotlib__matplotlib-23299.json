{
  "instance_id": "matplotlib__matplotlib-23299",
  "model_patch": "diff --git a/lib/matplotlib/__init__.py b/lib/matplotlib/__init__.py\nindex c268a56724..335346d00c 100644\n--- a/lib/matplotlib/__init__.py\n+++ b/lib/matplotlib/__init__.py\n@@ -1175,6 +1175,9 @@ def get_backend():\n     --------\n     matplotlib.use\n     \"\"\"\n+    # Get backend name without triggering resolution\n+    if rcParams._get_backend_or_none() is rcsetup._auto_backend_sentinel:\n+        return rcParamsDefault['backend']\n     return rcParams['backend']\n \n \n@@ -1456,4 +1459,4 @@ _log.debug('platform is %s', sys.platform)\n # workaround: we must defer colormaps import to after loading rcParams, because\n # colormap creation depends on rcParams\n from matplotlib.cm import _colormaps as colormaps\n-from matplotlib.colors import _color_sequences as color_sequences\n+from matplotlib.colors import _color_sequences as color_sequences\n\\ No newline at end of file\ndiff --git a/lib/matplotlib/tests/test_backend_resolution.py b/lib/matplotlib/tests/test_backend_resolution.py\nnew file mode 100644\nindex 0000000000..028f15443b\n--- /dev/null\n+++ b/lib/matplotlib/tests/test_backend_resolution.py\n@@ -0,0 +1,23 @@\n+import matplotlib.pyplot as plt\n+from matplotlib import get_backend, rc_context\n+import pytest\n+\n+def test_get_backend_preserves_figures():\n+    \"\"\"Test that get_backend() doesn't clear figures created in rc_context.\"\"\"\n+    # Create figure in rc_context\n+    with rc_context():\n+        fig = plt.figure()\n+    \n+    # Get figure count before\n+    figs_before = len(plt._pylab_helpers.Gcf.figs)\n+    \n+    # Call get_backend()\n+    get_backend()\n+    \n+    # Verify figures are preserved\n+    figs_after = len(plt._pylab_helpers.Gcf.figs)\n+    assert figs_before == figs_after, \"get_backend() should not clear figures\"\n+    \n+    # Verify we can still close the figure\n+    plt.close(fig)\n+    assert len(plt._pylab_helpers.Gcf.figs) == 0, \"Figure should be closeable\"\n",
  "model_name_or_path": "KortixAI"
}