{
  "patch": "diff --git a/sympy/printing/pycode.py b/sympy/printing/pycode.py\n--- a/sympy/printing/pycode.py\n+++ b/sympy/printing/pycode.py\n@@ -608,6 +608,13 @@ def _print_MatrixBase(self, expr):\n             func = self._module_format('numpy.array')\n         return \"%s(%s)\" % (func, self._print(expr.tolist()))\n \n+    def _print_Identity(self, expr):\n+        shape = expr.shape\n+        if all([dim.is_Integer for dim in shape]):\n+            return \"%s(%s)\" % (self._module_format('numpy.eye'), self._print(expr.shape[0]))\n+        else:\n+            raise NotImplementedError(\"Symbolic matrix dimensions are not yet supported for identity matrices\")\n+\n     def _print_BlockMatrix(self, expr):\n         return '{0}({1})'.format(self._module_format('numpy.block'),\n                                  self._print(expr.args[0].tolist()))\n",
  "test_patch": "diff --git a/sympy/printing/tests/test_numpy.py b/sympy/printing/tests/test_numpy.py\n--- a/sympy/printing/tests/test_numpy.py\n+++ b/sympy/printing/tests/test_numpy.py\n@@ -1,6 +1,6 @@\n from sympy import (\n     Piecewise, lambdify, Equality, Unequality, Sum, Mod, cbrt, sqrt,\n-    MatrixSymbol, BlockMatrix\n+    MatrixSymbol, BlockMatrix, Identity\n )\n from sympy import eye\n from sympy.abc import x, i, j, a, b, c, d\n@@ -11,7 +11,7 @@\n from sympy.printing.lambdarepr import NumPyPrinter\n \n from sympy.utilities.pytest import warns_deprecated_sympy\n-from sympy.utilities.pytest import skip\n+from sympy.utilities.pytest import skip, raises\n from sympy.external import import_module\n \n np = import_module('numpy')\n@@ -252,3 +252,21 @@ def test_16857():\n \n     printer = NumPyPrinter()\n     assert printer.doprint(A) == 'numpy.block([[a_1, a_2], [a_3, a_4]])'\n+\n+\n+def test_issue_17006():\n+    if not np:\n+        skip(\"NumPy not installed\")\n+\n+    M = MatrixSymbol(\"M\", 2, 2)\n+\n+    f = lambdify(M, M + Identity(2))\n+    ma = np.array([[1, 2], [3, 4]])\n+    mr = np.array([[2, 2], [3, 5]])\n+\n+    assert (f(ma) == mr).all()\n+\n+    from sympy import symbols\n+    n = symbols('n', integer=True)\n+    N = MatrixSymbol(\"M\", n, n)\n+    raises(NotImplementedError, lambda: lambdify(N, N + Identity(n)))\ndiff --git a/sympy/printing/tests/test_pycode.py b/sympy/printing/tests/test_pycode.py\n--- a/sympy/printing/tests/test_pycode.py\n+++ b/sympy/printing/tests/test_pycode.py\n@@ -7,7 +7,7 @@\n from sympy.core.numbers import pi\n from sympy.functions import acos, Piecewise, sign\n from sympy.logic import And, Or\n-from sympy.matrices import SparseMatrix, MatrixSymbol\n+from sympy.matrices import SparseMatrix, MatrixSymbol, Identity\n from sympy.printing.pycode import (\n     MpmathPrinter, NumPyPrinter, PythonCodePrinter, pycode, SciPyPrinter\n )\n@@ -49,6 +49,7 @@ def test_NumPyPrinter():\n     A = MatrixSymbol(\"A\", 2, 2)\n     assert p.doprint(A**(-1)) == \"numpy.linalg.inv(A)\"\n     assert p.doprint(A**5) == \"numpy.linalg.matrix_power(A, 5)\"\n+    assert p.doprint(Identity(3)) == \"numpy.eye(3)\"\n \n \n def test_SciPyPrinter():\n"
}