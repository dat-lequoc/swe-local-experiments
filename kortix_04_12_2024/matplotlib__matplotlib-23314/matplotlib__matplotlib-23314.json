{
  "instance_id": "matplotlib__matplotlib-23314",
  "model_patch": "diff --git a/lib/mpl_toolkits/mplot3d/axes3d.py b/lib/mpl_toolkits/mplot3d/axes3d.py\nindex 9db44b7994..015f43fad2 100644\n--- a/lib/mpl_toolkits/mplot3d/axes3d.py\n+++ b/lib/mpl_toolkits/mplot3d/axes3d.py\n@@ -387,6 +387,8 @@ class Axes3D(Axes):\n \n     @martist.allow_rasterization\n     def draw(self, renderer):\n+        if not self.get_visible():\n+            return\n         self._unstale_viewLim()\n \n         # draw the background patch\n@@ -3245,4 +3247,4 @@ def get_test_data(delta=0.05):\n     X = X * 10\n     Y = Y * 10\n     Z = Z * 500\n-    return X, Y, Z\n+    return X, Y, Z\n\\ No newline at end of file\ndiff --git a/lib/mpl_toolkits/tests/test_mplot3d.py b/lib/mpl_toolkits/tests/test_mplot3d.py\nindex 966eb50b21..49281396cb 100644\n--- a/lib/mpl_toolkits/tests/test_mplot3d.py\n+++ b/lib/mpl_toolkits/tests/test_mplot3d.py\n@@ -40,6 +40,16 @@ def test_bar3d():\n         ax.bar(xs, ys, zs=z, zdir='y', align='edge', color=cs, alpha=0.8)\n \n \n+def test_visibility_3d():\n+    \"\"\"Test that set_visible works correctly for 3D axes.\"\"\"\n+    fig = plt.figure()\n+    ax1, ax2 = fig.subplots(1, 2, subplot_kw={'projection': '3d'})\n+    ax1.scatter([1], [1], [1])\n+    ax2.scatter([1], [1], [1])\n+    ax1.set_visible(False)\n+    assert not ax1.get_visible()\n+    assert ax2.get_visible()\n+    \n def test_bar3d_colors():\n     fig = plt.figure()\n     ax = fig.add_subplot(projection='3d')\n@@ -1735,4 +1745,4 @@ def test_view_init_vertical_axis(\n         # Assert ticks are correctly aligned:\n         tickdir_expected = tickdirs_expected[i]\n         tickdir_actual = axis._get_tickdir()\n-        np.testing.assert_array_equal(tickdir_expected, tickdir_actual)\n+        np.testing.assert_array_equal(tickdir_expected, tickdir_actual)\n\\ No newline at end of file\n",
  "model_name_or_path": "KortixAI"
}